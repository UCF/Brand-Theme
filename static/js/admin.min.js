Array.prototype.filter||(Array.prototype.filter=function(t){"use strict";if(void 0===this||null===this)throw new TypeError;var e=Object(this),o=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=[],n=arguments[1],c=0;o>c;c++)if(c in e){var r=e[c];t.call(n,r,c,e)&&i.push(r)}return i});var WebcomAdmin={};WebcomAdmin.__init__=function(t){t('input[type="file"]').parents("form").attr("enctype","multipart/form-data"),t('input[type="file"]').parents("form").attr("encoding","multipart/form-data")},WebcomAdmin.utilityPageSections=function(t){var e=this;e.active=null,e.parent=t(".i-am-a-fancy-admin"),e.sections=t(".i-am-a-fancy-admin .fields .section"),e.buttons=t(".i-am-a-fancy-admin .sections .section a"),e.buttonWrap=t(".i-am-a-fancy-admin .sections"),e.sectionLinks=t('.i-am-a-fancy-admin .fields .section a[href^="#"]'),this.showSection=function(){var o=t(this),i=o.attr("href"),n=t(i);if(e.buttonWrap.find('.section a[href="'+i+'"]')&&n.is(e.sections)){e.buttons.removeClass("active"),o.addClass("active"),e.active.hide(),e.active=n,e.active.show(),history.pushState({},"",o.attr("href"));var c=e.parent.find('input[name="_wp_http_referer"]');return c.val(window.location),!1}},this.__init__=function(){e.active=e.sections.first(),e.sections.not(e.active).hide(),e.buttons.first().addClass("active"),e.buttons.click(this.showSection),e.sectionLinks.click(this.showSection),window.location.hash&&e.buttons.filter('[href="'+window.location.hash+'"]').click();var o=setInterval(function(){t(".updated").fadeOut(1e3),clearInterval(o)},2e3)},e.parent.length>0&&e.__init__()},WebcomAdmin.fileUploader=function(t){t(".meta-file-wrap").each(function(){var e,o=t(this),i=o.find(".meta-file-field"),n=o.find(".meta-file-upload"),c=o.find(".meta-file-delete"),r=o.find(".meta-file-preview");n.on("click",function(t){return t.preventDefault(),e?void e.open():(e=wp.media({title:"Select or Upload a File",button:{text:"Use this file"},multiple:!1}),e.on("select",function(){var t=e.state().get("selection").first().toJSON();r.html('<img src="'+t.iconOrThumb+'"><br>'+t.filename),i.val(t.id),n.addClass("hidden"),c.removeClass("hidden")}),void e.open())}),c.on("click",function(t){t.preventDefault(),r.html("No file selected."),n.removeClass("hidden"),c.addClass("hidden"),i.val("")})})},WebcomAdmin.shortcodeInterfaceTool=function(t){var e=WebcomAdmin.shortcodeInterfaceTool;e.shortcodeForm=t("#select-shortcode-form"),e.shortcodeButton=e.shortcodeForm.find("button"),e.shortcodeSelect=e.shortcodeForm.find("#shortcode-select"),e.shortcodeEditors=e.shortcodeForm.find("#shortcode-editors"),e.shortcodeDescriptions=e.shortcodeForm.find("#shortcode-descriptions"),e.shortcodeInsert=function(t,e,o){var i="["+t;if(e)for(var n in e)i+=" "+n+'="'+e[n]+'"';i+="]",o&&(i+=o),i+="[/"+t+"]",send_to_editor(i)},e.shortcodeAction=function(){var o=e.shortcodeSelect.find(":selected");if(!(o.length<1||""===o.val())){var i=e.shortcodeEditors.find("li.shortcode-"+e.shortcodeSelected),n=o.attr("data-enclosing")||null,c=tinymce.activeEditor?tinymce.activeEditor.selection.getContent():null,r=null;r=n&&c?c:n;var s={};1===i.length&&i.find(".shortcode-editor-input").each(function(){var e=t(this);switch(e.prop("tagName")){case"INPUT":case"TEXTAREA":case"SELECT":"checkbox"===e.prop("type")?s[e.attr("data-parameter")]=String(e.prop("checked")):s[e.attr("data-parameter")]=e.val()}}),e.shortcodeInsert(o.val(),s,r)}},e.shortcodeSelectAction=function(){e.shortcodeSelected=e.shortcodeSelect.val(),e.shortcodeEditors.find("li").hide(),e.shortcodeDescriptions.find("li").hide(),e.shortcodeEditors.find(".shortcode-"+e.shortcodeSelected).show(),e.shortcodeDescriptions.find(".shortcode-"+e.shortcodeSelected).show()},e.shortcodeSelectAction(),e.shortcodeSelect.change(e.shortcodeSelectAction),e.shortcodeButton.click(e.shortcodeAction)},function(t){WebcomAdmin.__init__(t),WebcomAdmin.utilityPageSections(t),WebcomAdmin.fileUploader(t),WebcomAdmin.shortcodeInterfaceTool(t)}(jQuery);